{% extends "_base.html" %}
{% block content %}
<h3 class="mb-4 fw-bold">Settings</h3>
<ul class="nav nav-tabs nav-tabs-scrollable flex-nowrap" id="settingsTabs" role="tablist" style="overflow-x:auto;flex-wrap:nowrap;-webkit-overflow-scrolling:touch;">
  {% for k, label in [('profile','Profile'),('password','Password')] %}
  <li class="nav-item" role="presentation">
    <button class="nav-link {% if loop.first %}active{% endif %}" data-bs-toggle="tab" data-bs-target="#{{k}}" type="button" role="tab">{{label}}</button>
  </li>
  {% endfor %}
  </ul>
<div class="tab-content border border-top-0 p-3 p-md-4 rounded-bottom">
  <div class="tab-pane fade show active" id="profile" role="tabpanel">
    <form method="post" action="{{ url_for('users.profile') }}">
      {{ form.csrf_token }}
      <div class="row g-3">
        <div class="col-12 col-md-6">
          <label class="form-label fw-semibold">Name</label>
          {{ form.name(class="form-control") }}
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label fw-semibold">Email</label>
          {{ form.email(class="form-control", readonly=True) }}
          <div class="form-text">Email cannot be changed</div>
        </div>
      </div>
      <button class="btn btn-brand mt-3">Save Changes</button>
    </form>
  </div>
  <div class="tab-pane fade" id="password" role="tabpanel">
    <form method="post" action="{{ url_for('users.change_password') }}">
      {{ pwd_form.csrf_token }}
      <div class="row g-3">
        <div class="col-12 col-md-4">
          <label class="form-label fw-semibold">Current Password</label>
          {{ pwd_form.current(class="form-control", placeholder="Enter current password") }}
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label fw-semibold">New Password</label>
          {{ pwd_form.new(class="form-control", placeholder="Enter new password") }}
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label fw-semibold">Confirm Password</label>
          {{ pwd_form.confirm(class="form-control", placeholder="Confirm new password") }}
        </div>
      </div>
      <button type="submit" class="btn btn-brand mt-3">Change Password</button>
    </form>
  </div>
  
</div>
{% endblock %}
